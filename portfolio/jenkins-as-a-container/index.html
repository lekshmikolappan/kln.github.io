<!DOCTYPE html>
<style>
    html {
        height: 100vh;
    }
    body {
        min-height: 100vh;
        display: grid;
        grid-template-rows: 1fr auto;
    }
    .footer {
        grid-row-start: 2;
        grid-row-end: 3;
    }
</style>
<html lang="en-gb"><head>
  <meta charset="utf-8">
  <title>Lekshmi Kolappan</title>

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="description" property="og:description" content="Jenkins as a container">
  <meta name="image" property="og:image" content="/">
  <meta name="author" content="Lekshmi Kolappan">
  <meta name="generator" content="Hugo 0.80.0" />

  <!-- plugins -->
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.2.6/dist/css/uikit.min.css ">
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="/css/style.min.css" integrity="" media="screen">
  
  <link rel="stylesheet" href="/css/syntax.min.css" integrity="" media="screen">

  <script src="https://cdn.jsdelivr.net/npm/mailgo@0.9.14/dist/mailgo.min.js" defer></script>

  <!--Favicon-->
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">

</head>
<body class="portfolio">
    <div class="wrapper"><div uk-sticky="sel-target: .uk-navbar-container; cls-active: uk-navbar-sticky; bottom: #transparent-sticky-navbar">
    <nav class="uk-navbar-container uk-margin" uk-navbar="mode: click;" style="padding-right: 3rem">
        <div class="uk-navbar-right">
            <ul class="uk-navbar-nav uk-visible@s">
                
                <li><a style="font-size: 18px; text-transform: none" href="/"> Home
                        </a></li>

                
                
                
                
                
                
                
                
                
                <li><a style="font-size: 18px; text-transform: none" href="/about">About</a></li>
                
                
                
                
                
                
                
                
                
                <li><a style="font-size: 18px; text-transform: none" href="/blog">Blog</a></li>
                
                
                
                
                
                
                
                
                
                <li class="uk-active"><a style="font-size: 18px; text-transform:none"
                        href="/portfolio">Portfolio</a></li>
                
                
                
                
                
                
                
                
                
                <li><a style="font-size: 18px; text-transform: none" href="/contact">Contact</a></li>
                
                
                
                
                
                
                
                
                
                <li><a style="font-size: 18px; text-transform: none" href="https://kayelen.com/resume/">CV</a></li>
                
                
            </ul>

            <a class="uk-navbar-toggle uk-hidden@s" uk-toggle="target: #sidenav" uk-navbar-toggle-icon href="#"></a>

        </div>
    </nav>
</div>

<div id="sidenav" uk-offcanvas="overlay: true">
    <div class="uk-offcanvas-bar uk-flex uk-flex-column">

        <ul class="uk-nav uk-nav-primary uk-nav-center uk-margin-auto-vertical">
            
            <li><a style="font-size: 18px" href="https://example.com"> Home </a></li>

            
            
            
            
            
            
            
            
            
            <li><a style="font-size: 18px" href="/about">About</a></li>
            
            
            
            
            
            
            
            
            
            <li><a style="font-size: 18px" href="/blog">Blog</a></li>
            
            
            
            
            
            
            
            
            
            <li class="uk-active"><a style="font-size: 18px" href="/portfolio">Portfolio</a></li>
            
            
            
            
            
            
            
            
            
            <li><a style="font-size: 18px" href="/contact">Contact</a></li>
            
            
            
            
            
            
            
            
            
            <li><a style="font-size: 18px" href="https://kayelen.com/resume/">CV</a></li>
            
            
        </ul>

    </div>
</div>




<style>
  p {
    margin: 0
  }

  .people-wrap {
    display: inline-flex;
    margin-top: 10px;
  }

  .people-image {
    display: block;
    border-radius: 50%;
     
  }

  .people {
    margin-left: 20px;
    margin-right: 20px;
  }

  .name {
    margin: auto;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: #000;
    font-family: Roboto, sans-serif;
    line-height: 1.2;
    margin-top: 2rem;
  }

  .content img {
    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
    display: block;
    margin-left: auto;
    margin-right: auto;
    margin-bottom:30px;
  }

  p { margin-bottom: 1em; }

  body p:last-child { margin-bottom: 0em; }

  img.skills{
    height: 80px;
  }

  @media only screen and (min-width: 960px) {
    .content img{max-width:60vw; max-height:60vh}

  .content img{
      max-width:60vw;
      max-height:60vh
  }
  }
  .content{
      width: 90vw;
      max-width: 1200px
  }

  table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
  }

  td, th {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
  }

</style>


<section>
  <div class="uk-container uk-margin-large-bottom uk-margin-medium-top">
    <h1 class="uk-text-center uk-heading-medium">Jenkins as a container</h1>
    <p class="uk-text-center uk-text-lead">Jenkins as a container</p>
    <p class="uk-text-center">Published on Jun 19, 2020</p>
    <p class="uk-text-center">Reading time: 2 minutes.</p>
    

    <div class="uk-child-width-1-4@m uk-child-width-1-2@s uk-text-center uk-flex-center uk-grid-large uk-margin-small-top" uk-grid>
      

    


    
      <div>
        
        <a class="uk-button uk-button-default" href="https://github.com/Lforlinux/jenkins-pipeline"> <span uk-icon="icon: github"></span>
          Github</a>
        
      </div>
      
    </div>

    

    <hr class="full-width">
    
    
    <h2 class="uk-text-center uk-heading-small">Built with</h2>

    <section >
      <div class="uk-container">

        <div class="uk-child-width-1-6@l uk-child-width-1-3@m uk-child-width-1-3@s uk-child-width-1-2 uk-text-center uk-flex-center"
             uk-grid>
          
          <div class="imagemargin">
            <a href="https://www.jenkins.io/">
            <img class="contain skills" src="https://www.zend.com/sites/default/files/image/2019-09/logo-jenkins.jpg" alt="Jenkins" loading="lazy" style="cursor: pointer">
            </a>
          </div>
          
          <div class="imagemargin">
            <a href="https://www.docker.com/">
            <img class="contain skills" src="https://www.docker.com/wp-content/uploads/2022/03/vertical-logo-monochromatic.png" alt="Docker" loading="lazy" style="cursor: pointer">
            </a>
          </div>
          
        </div>

      </div>

    </section>

    <hr class="full-width">
    
    

    <div class="content">
      <h2 id="_run-jenkins-as-a-container-with-the-stateful-volume_"><em>Run jenkins as a container with the stateful volume!</em></h2>
<h3 id="why-jenkins-as-a-container-">Why Jenkins as a container 🤔</h3>
<ul>
<li>It&rsquo;s helps simplify the installation process.</li>
<li>Decrease dependency errors.</li>
<li>The Turnaround time for an Jenkins server installation is just few minutes.</li>
<li>Cross platform compatible.</li>
</ul>
<h3 id="why-do-we-need-a-stateful-volume">Why do we need a stateful volume!🤨</h3>
<ul>
<li>Containers are often an ephemeral where in Jeknins we need to save our workloads even if we are not using it regularly. As in we will setting up the users, credentials inside Jenkins so it is important to save this as a stateful volume.</li>
</ul>
<h3 id="lets-get-started-">Let&rsquo;s get started! 🎬</h3>
<p>Create the volume for Jenkins on Docker host.</p>
<pre><code>
# docker volume create jenkins-data 
</code></pre><p>To check and confirm if the volume is created for us</p>
<pre><code> # docker volume ls
 DRIVER              VOLUME NAME
 local               jenkins-data

</code></pre><p>Execute the following command to run the jenkins as a container.</p>
<pre><code>    docker run --name klnjenkins \
    --rm --detach \
    --publish 8080:8080 \
    --publish 50000:50000 \
    --volume jenkins-data:/var/jenkins_home \
    jenkins/jenkins:lts
</code></pre><table>
<thead>
<tr>
<th>Command</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td>&ndash;name</td>
<td>name of the container</td>
</tr>
<tr>
<td>&ndash;rm</td>
<td>Automatically removes the Docker container (the instance of the Docker image) when it is shut down.</td>
</tr>
<tr>
<td>&ndash;publish</td>
<td>Exposes the Docker daemon port on the host machine</td>
</tr>
<tr>
<td>&ndash;volume</td>
<td>Maps the /var/jenkins_home directory inside the container to the Docker volume named jenkins-data.</td>
</tr>
<tr>
<td>&ndash;detach</td>
<td>Runs the Docker container in the background</td>
</tr>
</tbody>
</table>
<p><strong>Note:</strong> We have exposed our 8080 port to assess our Jenkins server modify if you want to use different port.</p>
<hr>
<ul>
<li>Open your browser and with docker host machine ip or <em><strong>localhost:8080</strong></em> if it&rsquo;s a localhost. You will be seeing an unlock jenkins screen like below.</li>
</ul>
<p><img src="https://www.jenkins.io/doc/book/resources/tutorials/setup-jenkins-01-unlock-jenkins-page.jpg" alt="N|Solid"></p>
<ul>
<li>To get our intialadmin password, you can grab it from the docker container logs.</li>
</ul>
<pre><code>docker logs klnjenkins
</code></pre><p><img src="https://www.jenkins.io/doc/book/resources/tutorials/setup-jenkins-02-copying-initial-admin-password.png" alt="N|Solid"></p>
<ul>
<li>Now copy the password and paste it on the browser and continue the installation with the <em>suggested plugins</em> as below, if you are beginner level user of jenkins</li>
</ul>
<p><img src="https://assets.digitalocean.com/articles/jenkins-install-ubuntu-1604/jenkins-customize.png" alt="N|Solid"></p>
<ul>
<li>
<p>Create the user along with password if you want a separate user for jenkins server else skip and use as admin. Remember, admin user will not have password by default but you can set it later from inside via manage jenkins.</p>
</li>
<li>
<p>We are all set now!🥁 jenkins is ready to use via docker container 🥂.</p>
</li>
</ul>
<p><img src="https://boozallen.github.io/sdp-docs/learning-labs/1/local-development/_images/jenkins-home-page.png" alt="N|Solid"></p>
<p>How to confirm if our state of the works of persisted? 🙋🏽‍♂️</p>
<ul>
<li>Create any hello world job with some name.</li>
<li>Kill the docker container of jenkins.</li>
</ul>
<p>Now run the container with the command as above</p>
<pre><code>    docker run --name klnjenkins \
    --rm --detach \
    --publish 8080:8080 \
    --publish 50000:50000 \
    --volume jenkins-data:/var/jenkins_home \
    jenkins/jenkins:lts
</code></pre><ul>
<li>Now we can assess the jenkins via the same ip:port with the previously created credentials and we can see our pipeline jobs persisted! 🤩🎉🎉</li>
</ul>

    </div>
  </div>
  </div>
</section>



    </div>
<footer class="footer">
  <div class="uk-container">

    <div class="uk-grid-small uk-child-width-1-4@m uk-text-center uk-flex-center uk-margin-medium-bottom" uk-grid>
      <div class="uk-margin-small-bottom">
        <h5 class="uk-margin-small-bottom">Email</h5>
        <a href="mailto:lekshmi.kola@gmail.com">lekshmi.kola@gmail.com</a>

      </div>
      <div>
        <h5 class="uk-margin-small-bottom">Address</h5>
          <div uk-lightbox>
            <a href="https://www.google.com/maps/embed/v1/place?q=place_id:ChIJwbHYJaUqfEgRK0Ui9dVGimc&amp;key=AIzaSyAE_4rVAKux_DSPcb_OdSRDaovtPOSk_3U" data-caption="Reading, UK"
               data-type="iframe">Reading, UK</a>
          </div>
      </div>
    </div>


    <div class="footer-copyright uk-text-center" style="padding-bottom: 1rem">
      <img loading="lazy" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg" style="height: 1.2em;
  width: 1.2em;" alt="Creative Commons">
      <img loading="lazy" src="https://mirrors.creativecommons.org/presskit/icons/by.svg" style="height: 1.2em;
  width: 1.2em;" alt="CC-BY">
      2023
      Lekshmi Kolappan
    </div>
  </div>
</footer>


<!-- JS Plugins -->

<script src="https://cdn.jsdelivr.net/npm/uikit@3.2.6/dist/js/uikit.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/uikit@3.2.6/dist/js/uikit-icons.min.js"></script>

</body>
</html>
